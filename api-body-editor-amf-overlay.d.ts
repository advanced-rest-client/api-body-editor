/**
 * DO NOT EDIT
 *
 * This file was automatically generated by
 *   https://github.com/Polymer/tools/tree/master/packages/gen-typescript-declarations
 *
 * To modify these typings, edit the source file(s):
 *   api-body-editor-amf-overlay.js
 */


// tslint:disable:variable-name Describing an API that's defined elsewhere.
// tslint:disable:no-any describes the API as best we are able today

import {AmfHelperMixin} from '@api-components/amf-helper-mixin/amf-helper-mixin.js';

export {ApiBodyEditorAmfOverlay};

declare namespace ApiElements {


  /**
   * Adds AMF support to body editor.
   *
   * This mixin's only purpose is to keep AMF support separated from the
   * body editor code so it's clearer to read it.
   */
  function ApiBodyEditorAmfOverlay<T extends new (...args: any[]) => {}>(base: T): T & ApiBodyEditorAmfOverlayConstructor;

  interface ApiBodyEditorAmfOverlayConstructor {
    new(...args: any[]): ApiBodyEditorAmfOverlay;
  }

  interface ApiBodyEditorAmfOverlay {
    amf: any;

    /**
     * Computed final model for payload.
     */
    _effectiveModel: object|null|undefined;

    /**
     * AMF json/ld model for body.
     * When set it resets editor settings and transform it to work with
     * data types defined in AMF only.
     */
    amfBody: object|null;

    /**
     * `raml-aware` scope property to use.
     */
    aware: string|null|undefined;

    /**
     * List of supported mime types by this endpoint.
     * This information is read from AMF data model.
     */
    _mimeTypes: any[]|null|undefined;

    /**
     * Computed value.
     * It's `true` when the endpint supports single mime type.
     * In this case it won't render type selector.
     */
    _singleMimeType: object|null;
    _panelModel: object|null|undefined;
    firstUpdated(): void;
    _contentTypeChanged(contentType: any): void;

    /**
     * Creates a debouncer for body change action so it can be sure that
     * `amfModel` and `amfBody` properties are set.
     *
     * After debouncer timeout `__amfChanged()` is called with current value of
     * `amfBody`
     */
    _amfChanged(): void;

    /**
     * Ensures that the passed model is an array of
     * `http://raml.org/vocabularies/http#Payload`
     * in the AMF vocabulary.
     * The element accepts `http://www.w3.org/ns/hydra/core#Operation`,
     * `http://raml.org/vocabularies/http#Request` or array of
     * `http://raml.org/vocabularies/http#Payload` definitions.
     * It selectes the array from the model.
     *
     * @param model Passed model
     * @returns Payload model of undefined if the model
     * is invalid for this element.
     */
    _ensurePayloadModel(model: any[]|object|null): any[]|null|undefined;

    /**
     * Creates a list of media types supported by the endpoint as defined in
     * API spec file.
     *
     * @param model List of `Payload` definitions
     */
    _updateAmfMediaTypes(model: any[]|null): void;

    /**
     * Sets a content type property based on AMF mode's available options.
     * It sets the first defined media type in the model.
     *
     * This function **always** triggers the change by clearing `contentType`
     * first and then assigning new value.
     *
     * If the AMF model is a file model then it sets `fileAccept` property
     *
     * @param model List of `Payload` definitions
     */
    _selectDefaultMediaType(model: any[]|null): void;
    _updatePanelAmf(contentType: any): void;
    _schemaForMedia(mediaType: any): any;

    /**
     * Tests if the panel that supports given content-type supports data model.
     * XML and JSON do not use view data model to render the view.
     *
     * @param contentType A content type value to test
     * @returns True if the content type's panel support data model
     */
    _typeHasModel(contentType: String|null): Boolean|null;

    /**
     * Updates view model on panels that support the model.
     *
     * @param contentType Current content type
     * @param schema A schema for current payload.
     */
    _updatePanelModel(contentType: String|null, schema: object|null): void;

    /**
     * To simplify things, this searches for first **object** from the union type
     * definition and returns its properties.
     *
     * The component do not offer an UI to selected union type.
     *
     * @param schema Payload's schema definition
     * @returns Properies of first object, if any.
     */
    _getUnionObjectProperties(schema: object|null): Array<object|null>|null|undefined;

    /**
     * Updates panel value depending on examples or type schema availability.
     *
     * @param type Current content type
     * @param schema A schema for current payload.
     */
    _updatePanelValue(type: String|null, schema: object|null): void;
  }
}

export {ApiBodyEditorAmfOverlayConstructor};
